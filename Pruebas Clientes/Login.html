<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <link href="style.css" rel="stylesheet" type="text/css"/>
</head>
<body>
    
    <div class="cajon">
        <h1>LOGIN</h1>
        <label>Usuario:</label>
        <input type="text" name="user" id="user">
        <br/>
        <br/>
        <br/>
        <label>Contraseña:</label>
        <input type="password" name="pasw" id="pasw">
        <br/>
        <br/>
        <br/>
        <input type="button" onclick="validar()" value="ENVIAR">

        <p id="mensaje"></p>
    </div>
    <script>
        function validar() {
            document.getElementById("mensaje").innerHTML = "";
            let user = document.getElementById("user").value;
            console.log("El usuario es: " + user);
            let pasw = document.getElementById("pasw").value;
            console.log("La contraseña es: " + pasw);
            if (comprobarUser(user)) {
                document.getElementById("mensaje").innerHTML += "El usuario cumple con los requisitos. <br>";
            } else {
                document.getElementById("mensaje").innerHTML += "El usuario no cumple con los requisitos. <br>";
            }
            if(comprobarPasw(pasw)){
                document.getElementById("mensaje").innerHTML += "La contraseña indicada es correcta. <br>";
            } else {
                document.getElementById("mensaje").innerHTML += "La contraseña no cumple con los requisitos. <br>";
            }
            
            
        }
        function comprobarUser(user) {
            letras = 'abcdefghijklmnñopqrstuvwxyz1234567890';
            disparadorUser = false;
            for (let index = 0; index < user.length && disparadorUser == false; index++) {
                const element = user[index];
                if(!letras.includes(element)){
                    disparadorUser = true;
                }
                
            }
            if (user == "") {
                disparadorUser = true;
            }
            if (disparadorUser == false) {
                return true;
            }else {
                return false;
            }

        }

        function comprobarMayus(params) {
            letrasMayus = 'ABCDEFGHIJKLMNÑOPQRSTUVWXYZ';
            disparadorMayus = false;
            //Comprobador Mayusculas
            if(!letrasMayus.includes(params)){
                    disparadorMayus = true;
            }
            if (!disparadorMayus) {
                return true;
            }else {
                return false;
            }    
        }


        function comprobarMinus(params) {
            letrasMinus = 'abcdefghijklmnñopqrstuvwxyz';
            disparadorMinus = false;
            if(!letrasMinus.includes(params)){
                disparadorMinus = true;
            }
            if (!disparadorMinus) {
                return true;
            }else {
                return false;
            }
        }
        
        function comprobarNum(params) {
            numeros = '1234567890';
            disparadorNumero = false;
            if (!numeros.includes(params)) {
                    disparadorNumero = true;
            }
            if (!disparadorNumero) {
                return true;
            }else {
                return false;
            }

        }

        function comprobarCaracterRaro(params) {
            disparadorCaracterRaro = false;
            if(params.charCodeAt(0) >= 33 && params.charCodeAt(0) <= 47){
                    disparadorCaracterRaro = true;
                }
                if (params.charCodeAt(0) >= 58 && params.charCodeAt(0) <= 64) {
                    disparadorCaracterRaro = true;
                }
                if (params.charCodeAt(0) >= 91 && params.charCodeAt(0) <= 96) {
                    disparadorCaracterRaro = true;
                }

                if (!disparadorCaracterRaro) {
                return true;
            }else {
                return false;
            }    
        }
        
        function comprobarPasw(pasw) {
            
            contieneMayuscula = false;
            contieneMinuscula = false;
            contieneNumero = false;
            contieneCarRaro = false;

            for (let index = 0; index < pasw.length; index++) {
                const element = pasw[index];

                if (comprobarMayus(element) == true) {
                    contieneMayuscula = true;
                }
                if (comprobarMinus(element) == true) {
                    contieneMinuscula = true;
                }
                if (comprobarNum(element) == true) {
                    contieneNumero = true;
                }
                if (comprobarCaracterRaro(element) == true) {
                    contieneCarRaro = true;
                }
                
            }

            if (contieneMayuscula && contieneMinuscula && contieneNumero && contieneCarRaro) {
                return true;
            }else {
                return false;
            }
        }
    </script>
</body>
</html>